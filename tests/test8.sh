echo "Running test8..."
echo

out=$(sudo ./main <tests/input8.txt >outputs/output8.txt)
output=$(sort outputs/output8.txt)
expected_output='a 5
after 1
again 1
against 2
age 1
ah 1
all 4
among 1
an 2
and 27
another 1
any 1
are 1
art 4
as 8
astronomy 1
at 2
away 1
barren 2
barrenly 1
be 4
bear 1
beard 1
bearst 1
beauteous 1
beauties 1
beauty 5
beautys 2
before 1
behind 1
behold 1
beloved 1
best 1
bestowst 1
bier 1
blood 1
borne 1
bosom 1
bounteous 1
bounty 1
brave 3
breed 1
brief 1
bristly 1
but 9
by 3
call 1
can 2
canopy 1
carved 1
cease 1
change 3
checked 1
cheered 1
cherish 1
chief 1
childrens 1
clock 1
cold 2
coming 1
comment 1
commits 1
conceit 1
consider 1
conspire 1
constant 1
consumst 1
convert 1
convertest 1
copy 1
count 1
curls 1
date 1
day 3
dear 1
dearths 1
deaths 1
debateth 1
decay 3
decease 1
decrease 1
defence 1
deny 1
departest 1
derive 1
desire 1
destroys 1
determination 1
did 1
die 3
do 4
doom 1
doth 1
each 1
else 1
end 3
endowed 1
engraft 1
enjoys 1
erst 1
eternal 1
even 1
every 2
evident 1
evil 1
eye 1
eyes 2
fair 1
fairer 1
fall 1
fast 3
father 1
fear 1
featureless 1
find 2
folly 1
for 9
form 2
forsake 1
fortune 1
fresh 1
from 7
gainst 2
gave 1
gentle 1
gift 1
girded 1
give 1
go 2
good 1
gracious 1
grant 1
green 1
grow 1
grows 1
growst 1
gusts 1
had 1
hap 1
harsh 1
hast 1
hate 2
hath 2
have 1
he 2
heat 1
heaven 1
height 1
hence 1
her 2
herd 1
here 1
herein 1
hideous 1
him 1
himself 1
his 2
hold 1
holds 1
honour 1
house 1
huge 1
husbandry 1
husbands 1
i 15
if 5
in 19
inconstant 1
increase 2
influence 1
is 4
issue 1
issueless 1
it 4
judgement 1
keep 1
kept 1
kind 1
kindhearted 1
know 1
knowledge 1
lease 1
least 1
leaves 1
left 1
let 3
lets 1
life 1
like 1
little 1
live 2
lives 1
lodged 1
lofty 1
longer 1
look 2
love 7
lovst 1
luck 1
made 1
make 4
makeless 1
many 1
may 3
mayst 1
me 1
meant 1
memory 1
men 1
methinks 1
might 1
mind 2
minded 1
minutes 1
moment 1
more 2
most 2
murdrous 2
must 1
my 5
nature 1
new 1
night 2
no 4
none 2
nor 1
not 5
nothing 1
nought 1
o 3
oer 1
of 17
oft 1
on 2
one 1
or 6
other 1
others 2
out 1
past 1
perceive 1
perfection 1
perish 1
place 1
plagues 1
plants 1
pluck 1
pointing 1
possessed 1
predict 1
prepare 1
presence 1
presenteth 1
prime 1
princes 1
print 1
private 1
prognosticate 1
prove 1
quality 1
question 1
rage 1
rain 1
read 1
repair 1
rich 1
roof 1
rude 1
ruinate 1
sable 1
sap 1
save 1
say 2
scythe 1
seal 1
seasons 1
secret 1
see 3
seeking 1
self 9
selfs 1
selfsame 1
semblance 1
sets 1
shall 3
shalt 2
shame 2
shape 1
she 3
sheaves 1
shifts 1
should 5
shouldst 2
shows 1
sight 1
silvered 1
since 1
single 1
sits 1
sky 1
so 8
some 1
son 1
spend 1
stage 1
stars 3
state 1
stay 1
stickst 1
still 3
store 2
stormy 1
such 2
sullied 1
summers 1
sunk 1
sweet 3
sweets 1
takes 2
tell 2
tells 1
than 2
that 21
the 20
thee 8
their 2
them 1
themselves 1
then 3
thereby 1
they 1
thine 4
thing 1
this 5
those 1
thou 19
thought 1
threescore 1
thrive 1
thunder 1
thy 11
time 4
times 2
to 16
together 1
toward 1
trees 1
truth 1
truths 1
unprovident 1
unthrift 1
unthrifts 1
unused 1
up 1
uphold 1
user 1
vaunt 1
violet 1
wail 1
wane 1
war 1
waste 1
wasteful 1
wastes 1
wear 1
weep 1
well 2
were 3
wet 1
what 1
when 9
where 1
whereon 1
which 7
white 2
who 2
whom 2
widow 2
widows 1
wife 1
will 2
wilt 1
wind 1
winters 1
wisdom 1
with 6
without 1
world 6
would 1
wouldst 1
year 1
yet 1
you 12
youngly 1
your 9
yours 1
youth 3
youthful 1'

if [ $? -eq 0 ] ; then
  echo "Pass: Program exited zero"
else
  echo "Fail: Program did not exit zero"
  exit 1
fi

if [ "$output" == "$expected_output" ] ; then
  echo "Pass: Output is correct"
else
  echo "Expected '$expected_output' but got: $output"
  exit 1
fi

echo
echo "Test8 passed."

exit 0
