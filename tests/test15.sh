echo "Running test15..."
echo

out=$(sudo ./main <tests/input15.txt >outputs/output15.txt)
output=$(sort outputs/output15.txt)
expected_output='a 25
about 5
accept 1
accuse 1
acquired 1
afraid 1
after 3
again 2
against 3
ago 2
air 1
alarm 3
all 18
almost 1
already 2
always 2
an 3
and 56
anger 1
answer 1
answered 1
answering 1
any 3
anyone 1
anything 1
apart 2
are 1
arent 1
arms 2
as 20
ask 1
assistant 2
at 23
avoid 2
aware 2
away 2
awkwardly 1
back 10
bad 1
be 17
became 2
because 3
become 1
bed 14
bedpost 1
bedthe 1
been 7
before 4
beg 1
being 2
believed 1
belly 1
bend 2
best 1
better 3
between 1
big 1
blow 1
body 5
boss 4
bosss 2
both 1
bound 1
breadth 1
breakfast 2
breakfasts 1
breathing 1
bring 2
bringing 1
broad 1
bulk 1
burning 1
business 3
but 19
by 6
call 1
called 2
calledit 1
calm 1
came 3
can 2
cant 1
career 1
careful 1
carefully 2
carelessly 1
carpet 1
carry 1
case 1
catch 2
caused 1
cautious 2
certainly 2
change 3
chaos 1
cheer 1
chest 1
chose 1
chosen 1
circumstances 1
claim 1
clearly 1
clock 4
close 1
cold 2
collection 1
come 2
company 1
completely 1
concern 2
conclusions 2
confidence 1
congratulated 1
connections 1
consciousness 1
consider 1
consideration 1
contact 1
contented 1
continuously 1
contract 1
control 1
conversation 1
copy 1
could 13
covered 1
covers 1
curse 1
day 2
debt 1
decide 1
deep 1
deeply 1
deepness 1
definitely 2
desk 2
desperate 1
despite 2
did 6
didnt 3
different 2
difficult 1
difficulty 1
direct 1
direction 2
directions 1
disturbed 1
do 10
doctor 2
doctors 1
doing 2
dome 1
done 1
dont 1
door 5
doors 4
doubt 1
down 2
drawers 1
dressed 1
drew 1
during 1
each 2
earlier 1
early 1
easily 1
eating 1
echo 1
effort 4
enough 2
entire 1
entirely 1
enunciating 1
enveloped 1
especially 2
even 8
eventually 1
ever 1
everything 3
exceptionally 1
excessive 1
expectations 1
expected 1
explain 1
explanation 1
extremely 1
eyes 1
fact 2
fall 2
falling 2
family 1
father 3
feel 4
fell 1
felt 4
finally 2
find 1
first 7
fist 1
five 4
floor 1
fog 2
followed 1
food 1
for 9
force 1
forget 1
former 1
forthit 1
forward 1
forwards 2
found 1
four 1
free 2
frenzy 1
fresh 2
friendly 1
from 11
full 1
funny 1
furniturerattling 1
game 1
gather 1
gentle 1
gentlemen 1
gently 1
get 11
getting 2
give 1
given 1
go 5
god 2
gone 1
got 5
gregor 16
gregors 2
guest 1
habit 1
had 20
half 3
hands 2
happen 1
happened 1
hard 4
harder 1
hardly 1
have 18
having 1
hazard 1
he 80
head 7
headboard 1
heard 2
hearer 1
hearing 1
heaven 1
hed 1
hell 1
help 2
him 10
himanother 1
himself 15
his 45
hit 1
home 3
hope 1
hopefully 1
house 1
how 2
however 1
hungrier 1
hurriedly 1
i 8
id 3
if 14
ill 5
im 2
imagination 1
imagine 1
imaginings 1
in 27
individual 1
injured 1
injuring 1
inside 1
instance 1
instead 2
insurance 1
into 2
irregular 1
is 3
it 29
itch 2
its 3
itself 1
ive 3
just 4
keep 1
kept 1
kicked 1
knock 2
knocking 1
know 3
knows 1
last 1
later 1
lay 2
lazy 1
learned 1
leaves 1
leaving 1
leg 1
legs 4
length 1
let 2
life 1
lift 1
lightly 1
like 6
little 5
live 1
lively 1
load 1
locked 1
locking 1
long 4
longer 1
look 1
looked 2
lose 1
lots 1
loud 1
lower 4
luxury 1
lying 2
mad 1
made 3
maid 1
main 1
make 4
makes 1
making 2
man 1
managed 2
many 1
matter 1
maybe 1
me 2
medical 1
members 1
method 1
might 1
mindwould 1
miracle 1
mixed 1
money 1
more 9
moreover 1
morning 2
most 3
mother 2
motherits 1
move 2
moving 2
much 4
must 1
my 5
narrow 1
natural 1
near 1
need 1
never 3
new 1
next 2
night 1
no 3
noise 2
noone 1
not 18
nothing 2
notice 1
noticed 1
now 4
occupational 1
occurred 2
oclock 5
of 45
off 4
offer 1
office 2
often 1
oh 1
on 6
once 4
one 4
only 4
onto 2
open 2
opening 1
or 4
order 1
other 5
others 1
ought 1
out 17
outside 1
over 2
overcome 1
own 2
packed 1
pain 2
painful 1
painfully 1
parents 3
part 4
particularly 1
past 3
patient 1
pauses 1
pay 1
peace 2
peacefully 1
peel 1
people 1
peoplehe 1
perhaps 2
place 1
plaintively 1
position 1
possible 3
present 1
price 1
probably 5
properly 2
pure 1
push 2
pushed 1
pushing 1
put 1
putting 1
quarter 4
quickly 1
quietly 3
quite 2
raise 1
raised 1
ready 1
real 1
really 1
recognised 1
recommendation 1
remembered 1
remind 1
remove 1
report 1
reported 1
resolve 1
right 2
risked 1
rock 1
round 2
rung 2
rush 1
rushing 1
sacrifice 1
said 3
salesmen 2
same 3
samples 1
satisfied 1
saw 1
saying 1
see 2
seemed 2
seen 1
sensible 2
sensitive 1
serious 1
service 1
set 3
seven 8
shocked 1
short 2
should 3
shoved 1
shudder 1
shuffled 1
sick 1
side 4
sides 1
sighing 1
sign 1
simple 2
sister 2
sitting 2
six 2
sleep 2
sleepiness 1
sleeping 1
slept 1
slid 1
slight 2
slightest 1
slowly 4
smile 1
so 10
some 1
somebody 3
something 2
somewhere 1
son 1
soon 2
sort 2
spineless 1
spot 1
spots 1
squeaking 1
state 1
stay 2
sticking 1
still 6
stillness 1
strained 1
strangeness 1
street 1
strenuous 1
stretch 1
strikes 1
strong 1
struck 2
struggled 1
stupid 1
subordinates 1
succeeded 1
supposethats 1
suppress 1
suspicious 1
swang 1
swinging 1
takes 1
talking 1
task 1
tell 1
than 9
thankyou 1
that 33
thats 1
the 98
their 4
them 4
themselves 2
then 7
there 10
theres 3
these 1
they 4
thing 4
things 1
think 3
thinking 1
this 13
those 1
though 3
thought 5
thoughts 1
through 4
throw 1
ticking 1
time 6
times 1
to 80
today 1
together 1
told 2
too 1
took 1
top 2
total 1
touched 1
towards 1
train 5
travelling 5
tried 2
true 1
try 1
trying 1
turned 2
turning 1
two 1
unable 2
unclear 1
uncontrollable 1
under 1
understanding 1
unfortunately 1
unsure 1
up 13
use 1
used 1
usual 1
very 1
view 1
voice 7
want 1
wanted 5
warning 1
was 39
watching 1
way 5
weight 1
well 6
went 3
were 5
what 10
whatever 2
whats 3
when 11
whenever 1
where 3
whether 1
which 5
while 2
whispered 1
white 1
who 1
will 1
window 1
with 15
without 1
wondered 1
wooden 1
word 1
words 1
work 2
workshy 1
worries 1
would 23
wrong 3
years 2
yes 3
yet 1
you 7
your 3
youve 1'

if [ $? -eq 0 ] ; then
  echo "Pass: Program exited zero"
else
  echo "Fail: Program did not exit zero"
  exit 1
fi

if [ "$output" == "$expected_output" ] ; then
  echo "Pass: Output is correct"
else
  echo "Expected '$expected_output' but got: $output"
  exit 1
fi

echo
echo "Test15 passed."

exit 0
